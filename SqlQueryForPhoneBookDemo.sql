create database PhoneBookDb
go

use PhoneBookDb
go

create table tblCitizens
(
	CitizenId int identity(1,1) primary key,
	Name nvarchar(150),
	PhoneNumber char(20)
)
go

Create procedure spGetContacts
@PageNumber int
as
Begin

	Declare @StartRow int
	Declare @EndRow int
	Declare @PageSize int = 40

	Set @StartRow = ((@PageNumber - 1) * @PageSize) + 1
	Set @EndRow = @PageNumber * @PageSize;


	WITH RESULT AS
	(
	 SELECT CitizenId, Name, PhoneNumber,
			 ROW_NUMBER() OVER (ORDER BY Name ASC) AS ROWNUMBER
	 From    tblCitizens
	)
	SELECT *
	FROM RESULT
	WHERE ROWNUMBER BETWEEN @StartRow AND @EndRow
End

go

insert into tblCitizens(Name, PhoneNumber)
values
	('Цветков Константин Прокофиевич', '+7(710)589-46-18'),
	('Ясюлевич Прокофий Андреевич', '+7(686)856-92-66'),
	('Кабалкин Станислав Вячеславович', '+7(955)237-61-93'),
	('Артамонов Серафим Алексеевич', '+7(587)592-16-35'),
	('Шемякин Иннокентий Агапович', '+7(787)251-33-91'),
	('Шевцов Бронислав Родионович', '+7(989)567-51-96'),
	('Жданов Рюрик Викентиевич', '+7(186)334-86-30'),
	('Надервель Максимильян Захарович', '+7(912)829-16-36'),
	('Крючков Елизар Демьянович', '+7(280)432-42-39'),
	('Кожедуб Агафон Яковович', '+7(641)623-11-88'),
	('Доскаль Николай Сидорович', '+7(723)264-68-43'),
	('Гаранин Самсон Ираклиевич', '+7(518)445-12-33'),
	('Ютилов Тарас Юриевич', '+7(283)389-59-69'),
	('Ямбушев Борислав Владимирович', '+7(373)950-38-24'),
	('Турбин Давид Андриянович', '+7(173)491-10-44'),
	('Лавров Роман Евстафиевич', '+7(983)720-75-22'),
	('Ярошинский Мартьян Куприянович', '+7(171)359-76-25'),
	('Поджио Парфен Изяславович', '+7(260)757-70-26'),
	('Бобылев Сергей Эрнстович', '+7(232)442-29-81'),
	('Янчуковский Валерьян Александрович', '+7(879)182-55-73'),
	('Балинский Архип Остапович', '+7(312)630-12-61'),
	('Гик Всеслав Федосиевич', '+7(326)461-98-32'),
	('Суханов Всеволод Архипович', '+7(144)288-32-24'),
	('Болокан Онуфрий Филимонович', '+7(622)664-90-10'),
	('Эсмонд Афанасий Михеевич', '+7(505)561-35-25'),
	('Чернявский Эмиль Адамович', '+7(676)865-18-52'),
	('Башкатов Потап Касьянович', '+7(677)438-56-92'),
	('Гребнев Остап Данилевич', '+7(755)563-35-98'),
	('Янко Борис Евграфович', '+7(933)360-23-44'),
	('Саблин Евлампий Глебович', '+7(695)236-88-70'),
	('Котяш Прохор Даниилович', '+7(368)538-20-96'),
	('Ананьев Даниил Натанович', '+7(527)561-63-56'),
	('Шерешевский Вениамин Самуилович', '+7(527)291-41-41'),
	('Курепин Мир Эдуардович', '+7(819)397-16-44'),
	('Селиванов Анатолий Климентович', '+7(549)599-93-87'),
	('Голодяев Виссарион Кириллович', '+7(888)159-56-57'),
	('Тальдаев Семен Игнатиевич', '+7(925)338-31-35'),
	('Прохоренко Прокл Ерофеевич', '+7(524)561-40-36'),
	('Дудкин Севастьян Святославович', '+7(662)650-88-23'),
	('Ковалев Захар Савелиевич', '+7(754)208-98-21'),
	('Реутов Зиновий Назарович', '+7(796)103-49-55'),
	('Теплов Данил Тимурович', '+7(243)943-26-63'),
	('Дюков Семён Панкратиевич', '+7(296)792-89-19'),
	('Русанов Кондратий Тихонович', '+7(291)110-81-30'),
	('Вольпов Егор Олегович', '+7(964)629-14-28'),
	('Шуршалин Иосиф Леонидович', '+7(345)379-14-95'),
	('Шведов Юрий Онисимович', '+7(883)150-74-26'),
	('Ефимов Адриан Ростиславович', '+7(506)924-68-43'),
	('Забабурин Чеслав Севастьянович', '+7(601)827-18-87'),
	('Ядучев Сократ Мартьянович', '+7(655)108-43-97'),
	('Кошечкин Иван Чеславович', '+7(169)678-16-72'),
	('Есиков Викентий Ипатиевич', '+7(657)310-17-64'),
	('Нырков Фадей Самсонович', '+7(830)680-27-22'),
	('Евстигнеев Мирон Афанасиевич', '+7(163)807-86-51'),
	('Лебединцев Ростислав Никанорович', '+7(959)536-67-19'),
	('Яшин Аркадий Мирославович', '+7(289)100-22-36'),
	('Непеин Капитон Иосифович', '+7(202)562-58-45'),
	('Зорин Феофан Давыдович', '+7(919)933-64-94'),
	('Яфаров Артём Герасимович', '+7(293)164-21-66'),
	('Матеров Федот Феликсович', '+7(313)411-40-66'),
	('Шишмарёв Эдуард Леонтиевич', '+7(972)202-43-81'),
	('Быстров Ипатий Андронович', '+7(752)566-37-78'),
	('Ястремский Феликс Дмитриевич', '+7(957)672-91-21'),
	('Ивашкин Гаврила Федорович', '+7(427)343-78-16'),
	('Антиповский Авдей Кондратиевич', '+7(549)794-62-19'),
	('Карпюк Яков Евлампиевич', '+7(716)713-72-88'),
	('Молчанов Мстислав Якубович', '+7(127)315-92-98'),
	('Баязов Михей Георгиевич', '+7(687)303-30-64'),
	('Веретёнов Трофим Несторович', '+7(228)107-21-18'),
	('Мохов Тихон Онуфриевич', '+7(661)402-61-62'),
	('Аминев Василий Геннадиевич', '+7(285)798-49-34'),
	('Шишкарёв Юлиан Анатолиевич', '+7(108)533-62-94'),
	('Сергеевич Артур Мечиславович', '+7(372)151-21-51'),
	('Сочинский Аким Епифанович', '+7(782)312-94-35'),
	('Челомей Феоктист Наумович', '+7(469)541-79-53'),
	('Кадыров Олег Еремеевич', '+7(635)377-20-74'),
	('Прибыльнов Агап Аникитевич', '+7(469)377-98-41'),
	('Жикин Венедикт Измаилович', '+7(224)703-50-24'),
	('Нугаев Никанор Михаилович', '+7(277)992-90-90'),
	('Горюшин Харитон Сократович', '+7(309)485-87-58'),
	('Листунов Изяслав Федотович', '+7(685)979-71-63'),
	('Карасёв Демьян Никитевич', '+7(186)784-85-90'),
	('Акчурин Онисим Левович', '+7(151)858-71-21'),
	('Кораков Евграф Моисеевич', '+7(603)179-98-89'),
	('Николаев Фока Иванович', '+7(693)748-86-72'),
	('Гайдученко Георгий Елисеевич', '+7(543)308-81-66'),
	('Низовцов Касьян Феоктистович', '+7(644)968-33-78'),
	('Краснопёров Карл Ипполитович', '+7(402)137-14-97'),
	('Кэбин Соломон Потапович', '+7(653)305-84-64'),
	('Ядренкин Аскольд Фролович', '+7(650)567-66-67'),
	('Панькив Поликарп Леонович', '+7(512)173-36-36'),
	('Грибалев Игнатий Модестович', '+7(985)385-63-19'),
	('Онипченко Валерий Зиновиевич', '+7(992)102-32-55'),
	('Яворский Максим Платонович', '+7(607)257-14-47'),
	('Голубев Платон Брониславович', '+7(254)158-98-21'),
	('Лимонов Никита Эрнестович', '+7(544)174-60-11'),
	('Гурковский Антип Елизарович', '+7(808)732-56-39'),
	('Кетов Евстигней Григориевич', '+7(328)444-35-22'),
	('Чичваркин Владилен Серафимович', '+7(180)292-31-46'),
	('Емелин Иларион Миронович', '+7(938)560-67-35'),
	('Бабкин Владислав Титович', '+7(426)242-78-39'),
	('Язин Аристарх Гаврилевич', '+7(813)588-47-49'),
	('Клоков Арсений Игоревич', '+7(255)473-49-58'),
	('Машков Герман Денисович', '+7(575)551-23-43'),
	('Катериночкин Алексей Иннокентиевич', '+7(558)355-55-35'),
	('Игнатов Виктор Казимирович', '+7(817)343-86-64'),
	('Ягубский Виталий Адрианович', '+7(746)198-47-41'),
	('Пищальников Натан Давидович', '+7(939)677-53-68'),
	('Старков Антон Кондратович', '+7(476)732-78-39'),
	('Близнюк Евгений Прохорович', '+7(377)314-29-31'),
	('Урбановский Глеб Аполлинариевич', '+7(357)170-24-84'),
	('Толбоев Илья Сергеевич', '+7(942)761-64-62'),
	('Лигачёв Мечислав Трофимович', '+7(153)877-90-67'),
	('Клинских Вадим Карлович', '+7(105)427-53-18'),
	('Юракин Святослав Тарасович', '+7(372)247-64-70'),
	('Пивоваров Карп Вадимович', '+7(208)160-55-57'),
	('Николюк Евдоким Ильевич', '+7(935)806-21-83'),
	('Гнусарев Петр Артемович', '+7(761)836-16-34'),
	('Кузинов Михаил Сигизмундович', '+7(156)335-98-74'),
	('Уксюзов Радион Фомевич', '+7(200)115-69-97'),
	('Ерохин Григорий Ульянович', '+7(548)851-35-16'),
	('Лагошин Федосий Андроникович', '+7(766)853-68-14'),
	('Якутин Порфирий Матвеевич', '+7(292)706-12-22'),
	('Соломонов Никон Никифорович', '+7(660)583-20-29'),
	('Шадрин Самуил Саввевич', '+7(614)664-90-23'),
	('Венедиктов Лука Владиславович', '+7(646)806-85-31'),
	('Хуторской Лев Арсениевич', '+7(816)665-62-76'),
	('Чурсунов Ефим Ефремович', '+7(432)791-97-35'),
	('Капитонов Фома Филиппович', '+7(542)667-26-35'),
	('Копцев Мирослав Евгениевич', '+7(798)492-80-18'),
	('Семичаевский Леондий Гордеевич', '+7(218)167-64-15'),
	('Жгулёв Эммануил Семенович', '+7(805)929-67-56'),
	('Татаров Руслан Егорович', '+7(224)798-23-53'),
	('Ялунин Родион Венедиктович', '+7(197)567-43-73'),
	('Аристов Терентий Эмилевич', '+7(985)144-34-19'),
	('Бурков Тимофей Маркович', '+7(327)918-70-49'),
	('Битнер Ярослав Артемиевич', '+7(723)772-68-98'),
	('Галкин Тимур Валерьянович', '+7(417)853-49-22'),
	('Махнер Дементий Богданович', '+7(854)835-11-57'),
	('Энговатов Еремей Проклович', '+7(257)810-50-87'),
	('Решетов Варфоломей Ипатович', '+7(981)154-63-62'),
	('Клиев Данила Никонович', '+7(658)546-25-96'),
	('Шамило Кузьма Пахомович', '+7(330)523-36-74'),
	('Набережный Валентин Ермолаевич', '+7(248)708-84-29'),
	('Лачинов Эрнест Капитонович', '+7(450)248-42-13'),
	('Андрюхин Артемий Макарович', '+7(343)689-25-36'),
	('Клычев Лукьян Валериевич', '+7(402)111-67-35'),
	('Чупринин Артем Всеволодович', '+7(549)856-57-27'),
	('Кривоплясов Кирилл', '+7(633)458-21-27'),
	('Портнов Александр', '+7(374)182-83-27'),
	('Менде Елизавета Радионовна', '+7(613)711-75-88'),
	('Дмитровская Агния Виталиевна', '+7(583)740-96-24'),
	('Ярмоненко Раиса Артемовна', '+7(980)817-22-10'),
	('Козланюк Марта Якубовна', '+7(479)476-63-38'),
	('Шелагина Роза Владиленовна', '+7(898)373-32-64'),
	('Родзянко Ираида Давидовна', '+7(866)897-52-46'),
	('Остроумова Ника Данилаивна', '+7(938)194-21-78'),
	('Вирановская Рената Антиповна', '+7(590)680-91-36'),
	('Икашева Альбина Никаровна', '+7(407)252-51-62'),
	('Покалюка Бронислава Евстигнеевна', '+7(927)361-77-65'),
	('Пустоходова Алина Никифоровна', '+7(137)533-37-72'),
	('Бабкина Рада Платоновна', '+7(728)575-78-25'),
	('Ямбаева Христина Святославовна', '+7(814)825-37-10'),
	('Ясаманова Майя Евграфовна', '+7(851)292-40-70'),
	('Шульдешова Эмма Ивановна', '+7(287)388-94-48'),
	('Крака Анастасия Натановна', '+7(619)283-64-39'),
	('Таланова Мирослава Станиславовна', '+7(892)860-69-32'),
	('Горбункова Эмилия Ипполитовна', '+7(956)111-46-63'),
	('Мазурина Ксения Афанасиевна', '+7(587)669-60-42'),
	('Лыткина Анфиса Федотовна', '+7(618)792-73-45'),
	('Харитонова Милена Федоровна', '+7(399)962-96-75'),
	('Опекунова Аза Карловна', '+7(407)923-51-21'),
	('Мельник Валерия Гавриловна', '+7(841)803-43-63'),
	('Архипова Элеонора Егоровна', '+7(408)395-14-84'),
	('Юмашева Евгения Филимоновна', '+7(877)978-82-85'),
	('Машкова Марфа Пахомовна', '+7(874)567-29-79'),
	('Телицына Клара Николаевна', '+7(461)735-50-28'),
	('Никольникова Юнона Емельяновна', '+7(682)976-19-48'),
	('Седыха Ульяна Архиповна', '+7(644)588-18-65'),
	('Кирилловская Нина Иларионовна', '+7(309)889-98-95'),
	('Мосякова Розалия Сергеевна', '+7(445)585-48-25'),
	('Мамина Инесса Харитоновна', '+7(667)824-32-28'),
	('Ящина Маргарита Романовна', '+7(628)755-54-63'),
	('Грушецкая Варвара Ильевна', '+7(954)875-58-82'),
	('Карапетяна Доминика Вацлавовна', '+7(763)270-40-66'),
	('Сиялова Василиса Моисеевна', '+7(512)332-52-85'),
	('Драке Алиса Семеновна', '+7(706)948-98-81'),
	('Тимашёва Александра Глебовна', '+7(305)483-63-97'),
	('Витковская Марина Ростиславовна', '+7(985)868-51-38'),
	('Труфанова Вероника Алексеевна', '+7(181)146-23-63'),
	('Сафонова Инна Елисеевна', '+7(507)319-64-91'),
	('Розанова Вера Феодосьевна', '+7(522)556-53-76'),
	('Кораблёва Надежда Варфоломеевна', '+7(101)358-88-13'),
	('Назарова Ангелина Адамовна', '+7(586)421-55-21'),
	('Муленко Лидия Руслановна', '+7(153)620-54-71'),
	('Локтионова Римма Терентьевна', '+7(830)509-97-24'),
	('Карачёва Зинаида Мстиславовна', '+7(213)565-64-18'),
	('Грибкова Марианна Сигизмундовна', '+7(453)298-74-71'),
	('Сюсина Юлия Богдановна', '+7(134)766-26-29'),
	('Коренёва Диана Данилевна', '+7(678)605-43-24'),
	('Этуша Эвелина Яновна', '+7(510)324-80-93'),
	('Гурина Анна Аркадиевна', '+7(590)603-49-65'),
	('Лелух Екатерина Иннокентиевна', '+7(413)409-33-55'),
	('Шелепина Злата Борисовна', '+7(600)515-79-98'),
	('Зуба Таисия Несторовна', '+7(333)507-80-94'),
	('Русанова Арина Карповна', '+7(903)451-41-79'),
	('Буриличева Ариадна Антоновна', '+7(607)275-10-81'),
	('Низовцева Изабелла Агаповна', '+7(258)362-52-54'),
	('Тимиряева Стела Остаповна', '+7(280)395-30-60'),
	('Зорина Мария Андреевна', '+7(691)138-64-60'),
	('Николаенко Яна Тимуровна', '+7(163)986-76-14'),
	('Еськова Жанна Сидоровна', '+7(962)289-21-61'),
	('Рогачёва Татьяна Валентиновна', '+7(960)265-94-26'),
	('Савина Любовь Назаровна', '+7(792)483-34-15'),
	('Бабина Инга Родионовна', '+7(909)114-43-41'),
	('Подогова Евдокия Виссарионовна', '+7(598)681-50-15'),
	('Экспериментова Зоя Вадимовна', '+7(875)786-37-30'),
	('Желдина Владлена Евремовна', '+7(307)298-40-29'),
	('Решетникова Ефросинья Вячеславовна', '+7(853)303-88-90'),
	('Морозова Пелагея Эммануиловна', '+7(679)370-83-41'),
	('Цейдлица Анисья Самсоновна', '+7(158)485-84-98'),
	('Гаврюшина Елена Ефимовна', '+7(402)362-74-78'),
	('Саитова Людмила Михеевна', '+7(150)249-68-67'),
	('Завразина Софья Рубеновна', '+7(698)338-11-47'),
	('Примакова Наталья Измаиловна', '+7(579)720-26-27'),
	('Сухарникова Оксана Артеименовна', '+7(907)910-40-75'),
	('Чендева Валентина Елизаровна', '+7(858)763-41-58'),
	('Свечина Наталия Евдокимовна', '+7(589)427-47-63'),
	('Пьянкова Нона Валерьевна', '+7(274)119-35-21'),
	('Катькина Регина Леонидовна', '+7(823)513-74-60'),
	('Маслюка Дарья Данииловна', '+7(132)583-25-15'),
	('Янутана Ольга Иосифовна', '+7(602)728-59-60'),
	('Фильченкова Кира Кировна', '+7(292)511-43-94'),
	('Онипченко Влада Потаповна', '+7(202)663-50-24'),
	('Полищука Лиана Мечиславовна', '+7(174)194-23-63'),
	('Белозерцева Ефросиния Игоревна', '+7(944)265-30-71'),
	('Яншина Любава Юрьевна', '+7(770)156-49-67'),
	('Табакова Кристина Мефодиевна', '+7(980)897-65-16'),
	('Кравчук Полина Арсентиевна', '+7(972)653-24-42'),
	('Кулагина Галина Прохоровна', '+7(756)353-25-22'),
	('Якимычева Ярослава Гаврииловна', '+7(267)800-39-17'),
	('Аюшиева Ева Марковна', '+7(989)519-53-60'),
	('Толстая Лада Поликарповна', '+7(609)209-13-72'),
	('Сотникова Каролина Максимильяновна', '+7(379)208-66-85'),
	('Саянова Ирина Капитоновна', '+7(376)530-38-54'),
	('Болдырева Фаина Филипповна', '+7(326)916-62-39'),
	('Сенькина Виктория Владимировна', '+7(854)370-97-54'),
	('Кизюрина Лилия Венедиктовна', '+7(520)184-48-81'),
	('Костомарова Алла Анатолиевна', '+7(934)104-46-24'),
	('Михайличенко Эльвира Эдуардовна', '+7(867)228-72-34'),
	('Жевлакова Светлана Кирилловна', '+7(619)889-16-86'),
	('Каца Янина Тимофеевна', '+7(859)926-77-85'),
	('Колобова Изольда Дмитриевна', '+7(985)376-14-32'),
	('Соболева Агафья Леонидовна', '+7(966)712-89-34'),
	('Ростова Берта Всеволодовна', '+7(267)102-32-71'),
	('Кидина Антонина Фомевна', '+7(535)987-18-51'),
	('Дорофеева Лариса Аскольдовна', '+7(719)316-78-37'),
	('Рюрикова Владислава Брониславовна', '+7(736)523-98-24'),
	('Власьева Дина Никитевна', '+7(797)134-91-43'),
	('Ермушина Всеслава Чеславовна', '+7(846)761-52-91'),
	('Сурнина Тамара Прокофьевна', '+7(584)219-55-24'),
	('Салтанова Германовна', '+7(136)262-84-31'),
	('Кравкова Савелиевна', '+7(201)220-96-85'),
	('Ямилова Павловна', '+7(905)113-80-62'),
	('Фирсова Юлиевна', '+7(799)644-25-63'),
	('Бабурина Радиславовна', '+7(232)509-22-55'),
	('Варенникова Кондратьевна', '+7(378)899-52-92'),
	('Качусова Бориславовна', '+7(785)565-49-50'),
	('Власова Игнатиевна', '+7(567)393-23-41'),
	('Клюкина Эрнестовна', '+7(526)945-48-55'),
	('Яковкина Олеговна', '+7(462)571-27-61'),
	('Калюта Лукьяновна', '+7(547)231-33-77'),
	('Ростовцева Сократовна', '+7(318)395-63-30'),
	('Боброва Тарасовна', '+7(609)888-78-17'),
	('Полторак Максимовна', '+7(991)997-85-23'),
	('Шишкова Казимировна', '+7(733)919-53-62'),
	('Копцева Мирославовна', '+7(716)570-39-60'),
	('Яржемковская Семеновна', '+7(878)499-20-84'),
	('Сабанцева Артемовна', '+7(256)694-27-65'),
	('Жванеца Зиновьевна', '+7(335)609-11-24'),
	('Старицкая Георгиевна', '+7(658)744-70-48'),
	('Басманова Артуровна', '+7(929)300-88-67'),
	('Уржумцева Порфириевна', '+7(598)160-41-52'),
	('Бабинова Клавдиевна', '+7(180)351-81-53'),
	('Мананникова Ираклиевна', '+7(135)639-89-96'),
	('Наполова Ярославовна', '+7(833)728-89-81'),
	('Рудавина Ульяновна', '+7(291)781-14-90'),
	('Шапцева Феликсовна', '+7(707)234-83-47'),
	('Манторова Соломоновна', '+7(982)718-57-97'),
	('Шеляпина Евгениевна', '+7(306)145-69-51'),
	('Истлентьева Агафоновна', '+7(674)718-11-81'),
	('Савватимова Александровна', '+7(176)674-76-89'),
	('Зырянова Якововна', '+7(871)738-61-68'),
	('Татарова Рюриковна', '+7(708)137-40-91'),
	('Жиренкова Захаровна', '+7(838)893-29-24'),
	('Бурцева Самуиловна', '+7(254)980-96-45'),
	('Комягина Аристарховна', '+7(321)939-53-45'),
	('Квакина Геннадиевна', '+7(774)832-33-98'),
	('Филина Константиновна', '+7(934)484-39-21'),
	('Кожухова Григоргиевна', '+7(715)186-73-61')